

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ABP/PPG peak detection &mdash; ECGkit 0.1.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ECGkit 0.1.1 documentation" href="index.html"/>
        <link rel="up" title="ECGtask" href="ECGtask.html"/>
        <link rel="next" title="ABP/PPG peak correction" href="ABP_PPG_peak_correction.html"/>
        <link rel="prev" title="QRS correction" href="QRScorrector.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> ECGkit</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="contact.html">Be in touch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="first_example.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Another example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ECGwrapper.html">Accessing signals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Matlab_format.html">Matlab file format</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_formats.html">Adding your own formats</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="ECGtask.html">Performing tasks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="QRS_detection.html">QRS detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="QRScorrector.html">QRS correction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">ABP/PPG peak detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="ABP_PPG_peak_correction.html">ABP/PPG peak correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ECGdelineation.html">ECG delineation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ECG_delineation_corrector.html">ECG delineation correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ECG_heartbeat_classifier.html">Heartbeat classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="Arbitrary_tasks.html">Arbitrary tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="results_format.html">Result format</a></li>
<li class="toctree-l1"><a class="reference internal" href="reportECG.html">Plotting and reporting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plot_ecg_strip.html">A signal visualization tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_ecg_mosaic.html">A mosaic visualization tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="other_functions.html">Other functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="progress_bar.html">A progress bar</a></li>
<li class="toctree-l2"><a class="reference internal" href="list_all_ECGtask.html">List all available tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extending the ECGkit</a><ul class="simple">
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ECGkit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="ECGtask.html">ECGtask</a> &raquo;</li>
      
    <li>ABP/PPG peak detection</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/ABP_PPG_peak_detection.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="abp-ppg-peak-detection">
<h1>ABP/PPG peak detection<a class="headerlink" href="#abp-ppg-peak-detection" title="Permalink to this headline">¶</a></h1>
<p>This document describes how to perform automatic peak detection in
pulsatile signals.</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This task perform peak detection in pulsatile signals such as arterial
blood pressure (ABP) or plethysmographic (PPG). The task uses two
algorithms to achieve pulse detection, and, as in QRS detection task you
can choose to use any of them.</p>
</div>
<div class="section" id="input-arguments">
<h2>Input Arguments<a class="headerlink" href="#input-arguments" title="Permalink to this headline">¶</a></h2>
<p>The properties that the ECGtask_PPG_ABP_detector class accepts are
described below. The usage of these properties is restricted to
low-level programming, you can use this task through the ECGwrapper as
is shown in the example below.</p>
<p><code class="docutils literal"><span class="pre">progress_handle</span></code> — Used to track the progress within your function. <code class="docutils literal"><span class="pre">[]</span> <span class="pre">(default)</span></code></p>
<blockquote>
<div>progress_handle, is a handle to a <a class="reference internal" href="progress_bar.html"><em>progress_bar</em></a>
object, that can be used to track the progress within your function.</div></blockquote>
<p><code class="docutils literal"><span class="pre">tmp_path</span></code> — The path to store temporary data. <code class="docutils literal"><span class="pre">tempdir()</span> <span class="pre">(default)</span></code></p>
<blockquote>
<div>A folder to store temporary data. Full path to a directory with write privileges.</div></blockquote>
<p><code class="docutils literal"><span class="pre">lead_config</span></code> — Select which signals to process. <code class="docutils literal"><span class="pre">'PPG-ABP-only'</span> <span class="pre">(default)</span></code></p>
<blockquote>
<div><p>This property control on which signals the pulse detection algorithms will be applied.
A cell string or char with any of the following names:</p>
<ul class="simple">
<li>&#8216;<em>all-leads</em>&#8216;. Process all leads.</li>
<li>&#8216;<em>PPG-ABP-only</em>&#8216;. Detect pulsatile signals based on their <code class="docutils literal"><span class="pre">ECG_header.desc</span></code>
description variable.</li>
<li>&#8216;<em>User-defined-leads</em>&#8216;. Tell the algorithm (with <code class="docutils literal"><span class="pre">PPG_ABP_idx</span> <span class="pre">property</span></code>)
which signal indexes to process, from 1 to <code class="docutils literal"><span class="pre">ECG_header.nsig</span></code></li>
</ul>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">PPG_ABP_idx</span></code> — The indexes corresponding to pulsatile signals <code class="docutils literal"><span class="pre">[]</span> <span class="pre">(default)</span></code></p>
<blockquote>
<div>A value from 1 to <code class="docutils literal"><span class="pre">ECG_header.nsig</span></code> indicating the column indexes (of the
signal matrix <code class="docutils literal"><span class="pre">ECG</span></code>) where pulsatile signals are located. By default this task
process all signals.</div></blockquote>
<p><code class="docutils literal"><span class="pre">detectors</span></code> — The PPG/ABP detection algorithms to use <code class="docutils literal"><span class="pre">'all-detectors'</span> <span class="pre">(default)</span></code></p>
<blockquote>
<div><p>Select which algorithm to use. A cell string or char with any of the following names:</p>
<ul class="simple">
<li>&#8216;all-detectors&#8217;</li>
<li><a class="reference external" href="http://dx.doi.org/10.1109/JBHI.2013.2267096">&#8216;wavePPG&#8217;</a></li>
<li><a class="reference external" href="http://www.physionet.org/physiotools/wag/wabp-1.htm">&#8216;wabp&#8217;</a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Create the <em>ECGtask_PPG_ABP_detector</em> object.</p>
<div class="code highlight-Matlab"><div class="highlight"><pre><span class="c">% with the task name</span>
    <span class="n">ECG_w</span><span class="p">.</span><span class="n">ECGtaskHandle</span> <span class="p">=</span> <span class="s">&#39;PPG_ABP_detector&#39;</span><span class="p">;</span>
<span class="c">% or create an specific handle to have more control</span>
    <span class="n">ECGt_PPG</span> <span class="p">=</span> <span class="n">ECGtask_PPG_ABP_detector</span><span class="p">();</span>
</pre></div>
</div>
<p>and then you are ready to set the algorithms to use. In the following
example you have several possible set-ups.</p>
<div class="code highlight-Matlab"><div class="highlight"><pre><span class="c">% select an specific algorithm. Default: Run all detectors</span>
    <span class="n">ECGt_PPG</span><span class="p">.</span><span class="n">detectors</span> <span class="p">=</span> <span class="s">&#39;wavePPG&#39;</span><span class="p">;</span> <span class="c">% A J. Lazaro algorithm for peak detection</span>
    <span class="n">ECGt_PPG</span><span class="p">.</span><span class="n">detectors</span> <span class="p">=</span> <span class="s">&#39;wabp&#39;</span><span class="p">;</span>  <span class="c">% Another algorithm from Physionet</span>
</pre></div>
</div>
<p>Finally set the task to the wrapper object, and execute the task.</p>
<div class="code highlight-Matlab"><div class="highlight"><pre><span class="n">ECG_w</span><span class="p">.</span><span class="n">ECGtaskHandle</span><span class="p">=</span> <span class="n">ECGt_PPG</span><span class="p">;</span> <span class="c">% set the ECG task</span>
<span class="n">ECG_w</span><span class="p">.</span><span class="n">Run</span><span class="p">();</span>
</pre></div>
</div>
<p>You can check the result of this task, with either the <a class="reference internal" href="ABP_PPG_peak_correction.html"><em>detection
corrector</em></a> or the <a class="reference internal" href="plot_ecg_strip.html"><em>visualization
functions</em></a>.</p>
<p>Also check this <a class="reference internal" href="examples.html#ppg-abp-pulse-detection"><span>example</span></a> for
further information.</p>
</div>
<div class="section" id="results-format">
<span id="pulse-det-result-format"></span><h2>Results format<a class="headerlink" href="#results-format" title="Permalink to this headline">¶</a></h2>
<p>The result file have the same format than <a class="reference internal" href="QRS_detection.html#qrs-det-result-format"><span>QRS detection task</span></a>.</p>
</div>
<div class="section" id="more-about">
<h2>More About<a class="headerlink" href="#more-about" title="Permalink to this headline">¶</a></h2>
<p>Here are some external references about pulse detection:</p>
<ul class="simple">
<li><strong>?? Add some</strong></li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><a class="reference internal" href="ECGtask.html"><em>ECGtask</em></a> | <a class="reference internal" href="QRS_detection.html"><em>QRS detection</em></a> | <a class="reference internal" href="examples.html"><em>examples</em></a></div></blockquote>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ABP_PPG_peak_correction.html" class="btn btn-neutral float-right" title="ABP/PPG peak correction">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="QRScorrector.html" class="btn btn-neutral" title="QRS correction"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Mariano Llamedo Soria.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>